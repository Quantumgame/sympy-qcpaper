<h1>Gate Decomposition</h1>

\begin{verbatim}
%load_ext sympyprinting
\end{verbatim}

\begin{verbatim}
from sympy import sqrt, symbols, Rational
from sympy import expand, Eq, Symbol, simplify, exp, sin
from sympy.physics.quantum import *
from sympy.physics.quantum.qubit import *
from sympy.physics.quantum.gate import *
from sympy.physics.quantum.grover import *
from sympy.physics.quantum.qft import QFT, IQFT, Fourier
from sympy.physics.quantum.circuitplot import circuit_plot
\end{verbatim}

<h2>Example 1</h2>

Create a symbolic controlled-Y gate

\begin{verbatim}
CY10 = CGate(1, Y(0)); CY10

\end{verbatim}

Decompose it into elementary gates and plot it

\begin{verbatim}
CY10.decompose()

\end{verbatim}

\begin{verbatim}
circuit_plot(CY10.decompose(), nqubits=2)
\end{verbatim}

<h2>Example 2</h2>

Create a controlled-Z gate

\begin{verbatim}
CZ01 = CGate(0, Z(1)); CZ01

\end{verbatim}

Decompose and plot it

\begin{verbatim}
CZ01.decompose()

\end{verbatim}

\begin{verbatim}
circuit_plot(CZ01.decompose(), nqubits=2)
\end{verbatim}

<h2>Example 3</h2>

Create a SWAP gate

\begin{verbatim}
SWAP10 = SWAP(1, 0); SWAP10

\end{verbatim}

Decompose and plot it

\begin{verbatim}
SWAP10.decompose()
\end{verbatim}

\begin{verbatim}
circuit_plot(SWAP10.decompose(), nqubits=2)
\end{verbatim}

<h2>All together now</h2>

\begin{verbatim}
gates = [CGate(1,Y(0)), CGate(0,Z(1)), SWAP(1, 0)]
\end{verbatim}

\begin{verbatim}
for g in gates:
    dg = g.decompose()
    display(Eq(g, dg))
    circuit_plot(g, nqubits=2)
    circuit_plot(dg, nqubits=2)    
\end{verbatim}

\begin{verbatim}
%notebook save decompose.ipynb
\end{verbatim}

\begin{verbatim}
%notebook load gate_rules.ipynb
\end{verbatim}

